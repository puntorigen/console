<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>index.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#clear">clear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#out">out</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#outT">outT</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setPrefix">setPrefix</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setSilent">setSilent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#table">table</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#title">title</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">index.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Commonly used console helper methods.
export default class Console {

	constructor({ config }={}) {
		let def_config = {
			silent:false,
			prefix:''
		};
		this.config = {...config, ...def_config};
	}

	/**
	* setSilent 	sets visibility output
	* @param 		{Boolean}	value	(required) If true, hides all output
	*/
	setSilent({ value=this.throwIfMissing('value') }={}) {
		this.config.silent = value;
	}

	/**
	* setPrefix 	sets output prefix
	* @param 		{Boolean}	prefix	optional prefix
	* @param 		{String}	color	optional: black,red,green,yellow,blue,purple,cyan,white
	*/
	setPrefix({ prefix,color }={}) {
		if (prefix) this.config.prefix=prefix;
		if (color) {
			let txt = `[${this.config.prefix}] `;
			let colors = require('colors/safe');
			this.config.prefix = colors[color](txt);
		} else {
			this.config.prefix = `[${this.config.prefix}] `;
		}
	}

	/**
	* clear 		clears the console screen
	*/
	clear() {
		let clearConsole = require('clear-any-console');
		clearConsole();
	}

	/**
	* out 			output the argument to the console screen
	* @param 		{String}	message		message to output
	* @param 		{Object}	data		optional: var dump to include in output
	* @param 		{String}	color		optional: black,red,green,yellow,blue,purple,cyan,white
	*/
	out({ message=this.throwIfMissing('message'),data,color }={}) {
		let msg = message, colors = require('colors/safe');
		if (!this.config.silent) {
			if (color &amp;&amp; msg!='') {
				if (color in colors) {
					console.log(this.config.prefix + colors[color](msg));
				} else {
					console.log(this.config.prefix + msg);
				}
			} else if (msg.indexOf('error:')!=-1) {
				console.error(this.config.prefix + colors.red(msg));
			}
			// data output
			if (data) {
				console.log('console.out():var=',data);
			}
		}
	}

	/**
	* outT 			output the argument to the console screen with timestamp
	* @param 		{String}	message		message to output
	* @param 		{Object}	data		optional: var dump to include in output
	* @param 		{String}	color		optional: black,red,green,yellow,blue,purple,cyan,white
	*/
	outT({ message=this.throwIfMissing('message'),data,color }={}) {
		let msg = message, colors = require('colors/safe');
		if (!this.config.silent) {
			// timestamp prefix
			let d = new Date();
			let hr = d.getHours();
			if (hr &lt; 10) {
			    hr = "0" + hr;
			}
			let min = d.getMinutes();
			if (min &lt; 10) {
			    min = "0" + min;
			}
			let sec = d.getSeconds();
			if (sec &lt; 10) {
			    sec = "0" + sec;
			}
			let timeStamp = `[${hr}:${min}:${sec}]: ${msg.trim()}`;
			// output
			if (data &amp;&amp; color) {
				this.out({ message:timeStamp, data:data, color:color });
			} else if (data) {
				this.out({ message:timeStamp, data:data });
			} else if (color) {
				this.out({ message:timeStamp, color:color });
			} else {
				this.out({ message:timeStamp });
			}
		}
	}

	/**
	* title 		displays the given text as a title
	* @param 		{String}	title		title to display
	* @param 		{String}	color		(optional) color for box borders.
	* @param 		{String}	titleColor	(optional) color for title. If undefined, uses the box color.
	* @param 		{Object}	config		(optional) config overwrite params for boxen.
	*/

	title({ title=this.throwIfMissing('title'), color, titleColor, config={} }={}) {
		const box = require('boxen'), colors = require('colors/safe');
		let textc = (titleColor)?titleColor:color;
		let resp = box(colors[textc](title),{
			borderColor:color,
			align:'center',
			padding: {
	    		left:2,
	    		right:2
	    	},
	    	borderStyle: {
	    		topLeft: '*',
	    		topRight: '*',
	    		bottomLeft: '*',
	    		bottomRight: '*',
	    		horizontal: '*',
	    		vertical: '*'
	    	}
		,...config});
		console.log(resp);
	}
	/**
	* table 		shows data array as table in the console
	* @param 		{String}	title			title for table
	* @param 		{Array}		data			array of objects for building the table.
	* @param 		{String}	struct_sort		(optional) sort data before displaying. Supports: field asc/desc.
	* @param 		{String}	color			(optional) color for table.
	*/
	table({ title=this.throwIfMissing('title'),data=this.throwIfMissing('data'),struct_sort,color }={}) {
		let info = data, colors = require('colors/safe');
		if (struct_sort) {
			let sortObjectsArray = require('sort-objects-array');
			if (struct_sort.split(' ').length>1) {
				// field desc, field asc
				info = sortObjectsArray(data, struct_sort.split(' ')[0], struct_sort.split(' ')[1]);
			} else {
				info = sortObjectsArray(data, struct_sort);
			}
		}
		let asciiTable = require('ascii-table');
		let table = new asciiTable(title);
		// heading
		let cols = Object.keys(info[0]);
		table.setHeading(cols);
		// data
		for (let row in info) {
			let jdata = [];
			for (let col in cols) {
				jdata.push(info[row][cols[col]]);
			}
			table.addRow(jdata).setJustify(true);
 		}
		//
		if (color) {
			console.log(colors[color](table.render()));
		} else {
			console.log(table.toString());
		}
	}

	// ********************
	// private methods
	// ********************

	throwIfMissing(name) {
        throw new Error('Missing '+name+' parameter!');
    }

}</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Wed Jul 29 2020 21:44:20 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
